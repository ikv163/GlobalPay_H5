(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orders-index"],{"0833":function(e,t,a){var i=a("2604");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("086f4721",i,!0,{sourceMap:!1,shadowMode:!1})},1360:function(e,t,a){"use strict";a.r(t);var i=a("b4ea"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"20a8":function(e,t,a){"use strict";var i=a("0833"),r=a.n(i);r.a},2604:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".order-body[data-v-450982ca]{padding:%?40?%}.order-list[data-v-450982ca]{background-color:#fff;margin-bottom:%?20?%;padding:%?20?%;border-radius:%?10?%}.order-head[data-v-450982ca]{padding:%?10?% %?0?%;font-size:%?30?%;border-bottom:1px solid hsla(0,0%,50.2%,.28);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.order-number[data-v-450982ca]{color:grey;font-size:%?30?%}.order-myAgent[data-v-450982ca]{color:red}.order-li[data-v-450982ca]{margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-right[data-v-450982ca]{font-size:%?30?%;color:red}.order-left[data-v-450982ca]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-qrCode[data-v-450982ca]{margin-left:%?20?%}.secend-li[data-v-450982ca]{font-size:%?20?%;color:grey}.checkBtn[data-v-450982ca]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-top:%?30?%;font-size:%?30?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-status[data-v-450982ca]{\n\t/* padding: 10upx 20upx;\n\tbackground-color: red;\n\tcolor: white;\n\tfont-size: 20upx;\n\tborder-radius:100upx; */}.checkBtn-btn[data-v-450982ca],\n.update[data-v-450982ca]{padding:%?10?% %?20?%;background-color:red;color:#fff;font-size:%?20?%;border-radius:%?100?%}.noMore[data-v-450982ca]{color:grey;text-align:center;font-size:%?30?%;padding-bottom:%?20?%}",""]),e.exports=t},"2fd4":function(e,t,a){"use strict";var i,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"rwRecord-content"},[a("sl-filter",{staticClass:"select",attrs:{independence:!1,color:e.titleColor,themeColor:e.themeColor,menuList:e.menuList},on:{"update:menuList":function(t){arguments[0]=t=e.$handleEvent(t),e.menuList=t},"update:menu-list":function(t){arguments[0]=t=e.$handleEvent(t),e.menuList=t},result:function(t){arguments[0]=t=e.$handleEvent(t),e.result.apply(void 0,arguments)}}}),0!=e.getOrderList.length?a("v-uni-view",{staticClass:"order-body"},e._l(e.getOrderList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"order-list"},[a("v-uni-view",{staticClass:"order-head"},[a("v-uni-view",{staticClass:"order-number"},[e._v("# "+e._s(t.order_id))]),t.username==e.userInfo.username?a("v-uni-view",{staticClass:"order-myAgent"},[e._v("个人")]):a("v-uni-view",{staticClass:"order-myAgent"},[e._v("下级")])],1),a("v-uni-view",{staticClass:"order-details"},[a("v-uni-view",{staticClass:"order-li"},[a("v-uni-view",{staticClass:"order-left"},[a("v-uni-view",{staticClass:"order-type"},["2"==t.order_type?a("mIcon",{staticClass:"icon-style",attrs:{type:e.icon.wechat,color:"#3BB034",size:"18"}}):"3"==t.order_type?a("mIcon",{staticClass:"icon-style",attrs:{type:e.icon.yunshanfu,color:"#1296DB",size:"18"}}):"4"==t.order_type?a("mIcon",{staticClass:"icon-style",attrs:{type:e.icon.bank,color:"#1296DB",size:"18"}}):a("mIcon",{staticClass:"icon-style",attrs:{type:e.icon.alipay,color:"#1296DB",size:"18"}})],1),a("v-uni-view",{staticClass:"order-qrCode"},[e._v(e._s(t.qr_code))])],1)],1),a("v-uni-view",{staticClass:"order-li"},[a("v-uni-view",{staticClass:"order-left  secend-li",staticStyle:{color:"red","font-size":"30upx"}},[e._v("订单金额:￥"+e._s(t.order_amount))])],1),a("v-uni-view",{staticClass:"order-li"},[a("v-uni-view",{staticClass:"order-left secend-li"},[a("v-uni-view",[e._v("费率:"+e._s("2"==t.order_type?(e.userInfo.wechat_rate/100).toFixed(2):"3"==t.order_type?(e.userInfo.union_pay_rate/100).toFixed(2):"4"==t.order_type?(e.userInfo.bank_card_rate/100).toFixed(2):(e.userInfo.alipay_rate/100).toFixed(2)))])],1),a("v-uni-view",{staticClass:"order-right secend-li"},[e._v("佣金:"+e._s("2"==t.order_type?(e.userInfo.wechat_rate/100*t.order_amount).toFixed(2):"3"==t.order_type?(e.userInfo.union_pay_rate/100*t.order_amount).toFixed(2):"4"==t.order_type?(e.userInfo.bank_card_rate/100*t.order_amount).toFixed(2):(e.userInfo.alipay_rate/100*t.order_amount).toFixed(2)))])],1),a("v-uni-view",{staticClass:"order-li"},[a("v-uni-view",{staticClass:"order-left secend-li"},[a("v-uni-view",[e._v("二维码账号:"+e._s(t.qr_account))])],1),a("v-uni-view",{staticClass:"order-right secend-li"},[e._v("二维码昵称:"+e._s(t.qr_nickname))])],1),a("v-uni-view",{staticClass:"order-li"},[a("v-uni-view",{staticClass:"secend-li"},[a("v-uni-view",[e._v("接单时间")]),a("v-uni-view",[e._v(e._s(t.insert_at))])],1),a("v-uni-view",{staticClass:"order-right secend-li"},[a("v-uni-view",[e._v("过期时间")]),a("v-uni-view",[e._v(e._s(t.expire_time))])],1)],1),a("v-uni-view",{staticClass:"checkBtn"},["5"==t.order_status||"2"==t.order_status?a("v-uni-view",["1"==t.refund_status||"2"==t.refund_status?a("v-uni-view",{staticClass:"update"},[e._v(e._s("1"==t.refund_type?"全额返款":"2"==t.refund_type?"已扣佣金返款":"返款类型待确定")+"\n\t\t\t\t\t\t\t"+e._s("1"==t.refund_status?"待审核":"null"==t.refund_status?"待审核":"成功"))]):a("v-uni-view",{staticClass:"update",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.upload(t)}}},[e._v("上传凭证")])],1):a("v-uni-view"),"1"==t.order_status?a("v-uni-view",{staticClass:"checkBtn-btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.checkCollection(t)}}},[e._v("确认收款")]):a("v-uni-view",{staticClass:"order-status",style:{color:e.checkBtnColor(t.order_status)}},[e._v(e._s(t.status_name))])],1)],1)],1)})),1):a("v-uni-view",[a("noData",{attrs:{noDataText:e.noDataText}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.noMore,expression:"noMore"}],staticClass:"noMore"},[e._v("没有更多数据了~")])],1)},n=[];a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}))},b4ea:function(e,t,a){"use strict";(function(e){var i=a("ee27");a("99af"),a("d81d"),a("a9e3"),a("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("f3f3"));a("96cf");var n=i(a("c964")),o=i(a("35ee")),s=i(a("e0c9")),l=i(a("44fe")),c={data:function(){return{icon:{wechat:"weixin",alipay:"zhifubao1",yunshanfu:"yunshanfu",bank:"bank"},themeColor:"#000000",titleColor:"#666666",qrCodeType:"",noMore:!1,noDataText:"暂无历史记录!",orderType:[{keys:"0",title:"充值中",color:"green"},{keys:"1",title:"处理中",color:"green"},{keys:"2",title:"成功",color:"red"},{keys:"3",title:"失败",color:"black"},{keys:"4",title:"驳回",color:"black"}],menuList:[{title:"订单类型",isMutiple:!1,key:"orderType",defaultSelectedIndex:[0],detailList:[{title:"全部",value:""},{title:"微信",value:"0"},{title:"支付宝",value:"1"},{title:"云闪付",value:"3"},{title:"银行卡",value:"4"}]},{title:"订单状态",isMutiple:!1,key:"selectType",reflexTitle:!0,defaultSelectedIndex:0,detailList:[{title:"全部",value:""},{title:"未支付",value:"1"},{title:"已支付",value:"2"},{title:"超时",value:"3"},{title:"手动失败",value:"4"},{title:"手动成功",value:"5"}]},{title:"订单时间",isMutiple:!1,key:"timeSelect",reflexTitle:!0,defaultSelectedIndex:0,detailList:[{title:"不限",value:""},{title:"今日",value:0},{title:"一周内",value:1},{title:"一个月内",value:2},{title:"三个月内",value:3},{title:"半年内",value:4},{title:"一年内",value:5}]},{title:"订单金额",isMutiple:!1,key:"amoutSelect",reflexTitle:!0,defaultSelectedIndex:0,detailList:[{title:"不限",value:""},{title:"少于3000",value:"0"},{title:"3000-5000",value:1},{title:"5000-10000",value:2},{title:"10000-20000",value:3},{title:"20000-30000",value:4},{title:"30000-40000",value:5},{title:"大于40000",value:6}]},{title:"包含下级",isMutiple:!1,key:"include_followers",reflexTitle:!0,defaultSelectedIndex:0,detailList:[{title:"包含下级",value:"1"},{title:"不包含下级",value:"0"}]}],getOrderList:[],param:{order_status:"",starttime:"",endtime:"",startamount:"",endamount:"",page:1,include_followers:0,order_type:""},totalPage:1,userInfo:{},order_id:{order_id:""},amount:[{startmoney:"0",endmoney:"2999"},{startmoney:"3000",endmoney:"4999"},{startmoney:"5000",endmoney:"9999"},{startmoney:"10000",endmoney:"19999"},{startmoney:"20000",endmoney:"29999"},{startmoney:"30000",endmoney:"39999"},{startmoney:"40000",endmoney:""}]}},onLoad:function(){},components:{mIcon:s.default,noData:l.default,slFilter:o.default},onShow:function(){var e=this;this.param.page=1,this.noMore=!1,this.getOrderList=[],uni.getStorage({key:"userInfo",complete:function(t){e.userInfo=t.data}}),this.getOrder()},onPullDownRefresh:function(){this.param.page=1,this.noMore=!1,this.getOrderList=[],this.getOrder()},methods:{getOrder:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=""==t.order_id.order_id?t.param:t.order_id,a.next=3,t.$api.getOrder((0,r.default)({},i));case 3:n=a.sent,e("log",n," at pages/orders/index.vue:398"),o=t.getOrderList,n.data.data.map((function(e){o.push(e)})),t.getOrderList=o,t.totalPage=n.data.totalPage;case 9:case"end":return a.stop()}}),a)})))()},checkBtnColor:function(e){switch(parseInt(e)){case 1:return"red";case 2:return"green";case 3:return"gray";case 5:return"green"}},result:function(t){if(e("log",t," at pages/orders/index.vue:437"),this.param.page=1,this.noMore=!1,this.getOrderList=[],this.param.order_status=t.selectType,""!=t.amoutSelect?(this.param.startamount=this.amount[t.amoutSelect].startmoney,this.param.endamount=this.amount[t.amoutSelect].endmoney):(this.param.startamount="",this.param.endamount=""),"string"==typeof t.timeSelect)this.param.starttime="",this.param.endtime="";else{var a=this.changeTime(t.timeSelect);this.param.starttime=a.starttime,this.param.endtime=a.endtime}this.param.order_type=t.orderType,this.param.include_followers=t.include_followers,this.getOrder()},onNavigationBarSearchInputConfirmed:function(e){this.getOrderList=[],this.order_id.order_id=e.text,this.getOrder()},upload:function(e){this.$Router.push({path:"/pages/orders/uploadCertificate",query:{obj:e}})},changeTime:function(t){var a=new Date,i=a.getFullYear(),r=a.getMonth()+1,n=a.getDate(),o={starttime:"",endtime:""},s="";switch(t){case 0:o.starttime="".concat(i,"-").concat(r,"-").concat(n," 00:00:00"),o.endtime="".concat(i,"-").concat(r,"-").concat(n," 23:59:59");break;case 1:a.setDate(a.getDate()-a.getDay()+1),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" 00:00:00",o.starttime=s,o.endtime="".concat(i,"-").concat(r,"-").concat(n," 23:59:59");break;case 2:var l=new Date(a.getFullYear(),a.getMonth(),1),c=Number(l.getMonth())+1;o.starttime=l.getFullYear()+"-"+c+"-"+l.getDate()+" 00:00:00",o.endtime="".concat(i,"-").concat(r,"-").concat(n," 23:59:59"),e("log","1aaa"," at pages/orders/index.vue:514");break;case 3:a.setMonth(a.getMonth()-3),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" 00:00:00",o.starttime=s,o.endtime="".concat(i,"-").concat(r,"-").concat(n," 23:59:59");break;case 4:a.setMonth(a.getMonth()-6),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" 00:00:00",o.starttime=s,o.endtime="".concat(i,"-").concat(r,"-").concat(n," 23:59:59");break;case 5:a.setMonth(a.getMonth()-12),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" 00:00:00",o.starttime=s,o.endtime="".concat(i,"-").concat(r,"-").concat(n," 23:59:59");break}return o},setColor:function(e){return{color:e}},onReachBottom:function(){this.param.page=this.param.page+1,this.param.page<=this.totalPage?this.getOrder():this.noMore=!0},checkCollection:function(e){var t=this;Date.parse(new Date),Date.parse(new Date(e.expire_time));uni.showModal({title:"提示",content:"请先确认订单到账！",success:function(){var a=(0,n.default)(regeneratorRuntime.mark((function a(i){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!i.confirm){a.next=5;break}return a.next=3,t.$api.confirmOrder({order_id:e.order_id});case 3:r=a.sent,r.msg,t.getOrderList=[],t.getOrder();case 5:case"end":return a.stop()}}),a)})));function i(e){return a.apply(this,arguments)}return i}()})}}};t.default=c}).call(this,a("0de9")["log"])},d883:function(e,t,a){"use strict";a.r(t);var i=a("2fd4"),r=a("1360");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("20a8");var o,s=a("f0c5"),l=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"450982ca",null,!1,i["a"],o);t["default"]=l.exports}}]);